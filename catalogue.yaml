- name: setup mongodb server
  hosts: mongodb
  become: yes
  tasks:
   - name: disable nodejs server
     ansible.builtin.command: dnf module disable nodejs -y

   - name: enable nodejs-20 server
     ansible.builtin.command: dnf module enable nodejs:20 -y
  
   - name: Install nodejs server
     ansible.builtin.package: 
       name: nodejs
       state: present

   -  name: create roboshop system user
      ansible.builtin.user:
        name: roboshop
        comment: RoboShop System user
        system: true
        shell: /sbin/nologin
        home: /app


  # Safe to remove directory, because 2nd time if we run it will download freshly. no error if does not exist
   - name: creating app directory
     ansible.builtin.file: 
       state: directory
       path: /app
